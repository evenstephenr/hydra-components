{"version":3,"file":"index.modern.js","sources":["../src/Alert/index.ts","../src/Button/index.tsx","../src/Theme/Colors.ts","../src/Overlays/Backgrounds.tsx","../src/Overlays/Overlay.tsx","../src/Overlays/Shared.tsx","../src/Overlays/Modal.tsx","../src/Styles/Animate.ts","../src/Overlays/Panel.tsx"],"sourcesContent":["type AlertProps = {\r\n  message: string,\r\n}\r\n\r\nexport function Alert (props: AlertProps) {\r\n  const { message } = props;\r\n  return alert(message);\r\n}\r\n","import React, { FC } from \"react\";\r\n\r\n/** This is a generic Button component meant to be extended with any functionality you want */\r\nexport const Button: FC<ReactButton> = (props) => <button {...props} />;\r\n\r\nexport type ButtonRowProps = {\r\n  id?: string;\r\n  position: \"left\" | \"right\";\r\n} & StyleOverride;\r\nexport const ButtonRow: FC<ButtonRowProps> = ({\r\n  position = \"right\",\r\n  id,\r\n  children,\r\n  style,\r\n}) => (\r\n  <div id={id} style={{ textAlign: position, ...style }}>\r\n    {children}\r\n  </div>\r\n);\r\n","/**\r\n * TODO:\r\n *\r\n * - Do we need to strongly type this?\r\n */\r\nexport const COLOR = {\r\n  /** https://flatuicolors.com/palette/cn */\r\n  GRAY: {\r\n    100: \"#ffffff\",\r\n    200: \"#f1f2f6\",\r\n    300: \"#dfe4ea\",\r\n    400: \"#ced6e0\",\r\n    500: \"#a4b0be\",\r\n    600: \"#747d8c\",\r\n    700: \"#57606f\",\r\n    800: \"#2f3542\",\r\n  },\r\n  hexToRgb: (hex: string): { r: number; g: number; b: number } | null => {\r\n    //stackoverflow.com/a/5624139\r\n    // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\r\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n    // @ts-ignore\r\n    hex = hex.replace(shorthandRegex, function (m, r, g, b) {\r\n      return r + r + g + g + b + b;\r\n    });\r\n\r\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n\r\n    return result\r\n      ? {\r\n          r: parseInt(result[1], 16),\r\n          g: parseInt(result[2], 16),\r\n          b: parseInt(result[3], 16),\r\n        }\r\n      : null;\r\n  },\r\n  asRGB: (color: string, id: string) => {\r\n    // @ts-ignore\r\n    const hex = COLOR[color][id];\r\n    const result = COLOR.hexToRgb(hex);\r\n    if (!result) throw new Error(\"reference error, bad COLOR\"); // lol?\r\n    const { r, g, b } = result;\r\n    return `${r}, ${g}, ${b}`;\r\n  },\r\n};\r\n","import React, { FC, useEffect } from \"react\";\r\nimport { COLOR } from \"../Theme\";\r\n\r\nexport enum BACKGROUND_TYPE {\r\n  NONE = \"NONE\",\r\n  DARKEN = \"DARKEN\",\r\n  BLUR = \"BLUR\",\r\n}\r\n\r\nexport type BackgroundProps = {\r\n  backgroundThreshold?: number; // the 'magnitude' of backgroundType\r\n  backgroundType?: BACKGROUND_TYPE; // none, background with opacity, filter:blur\r\n};\r\n\r\nexport const NoBackground: FC = ({ children }) => (\r\n  <div\r\n    id=\"hydra-overlay-background-container-none\"\r\n    style={{\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n    }}\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport const DarkBackground: FC<BackgroundProps> = ({\r\n  children,\r\n  backgroundThreshold = 0.65,\r\n}) => (\r\n  <div\r\n    id=\"hydra-overlay-background-container-darken\"\r\n    style={{\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      backgroundColor: `rgba(${COLOR.asRGB(\r\n        \"GRAY\",\r\n        \"200\"\r\n      )}, ${backgroundThreshold})`,\r\n    }}\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport const BlurryBackground: FC<BackgroundProps> = ({\r\n  children,\r\n  backgroundThreshold = 0.45,\r\n}) => {\r\n  useEffect(() => {\r\n    const wrapper = document.getElementById(\"hydra-overlay-wrapper\");\r\n    if (wrapper) {\r\n      wrapper.style.filter = `blur(${backgroundThreshold * 10}px)`;\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      id=\"hydra-overlay-background-container-blur\"\r\n      style={{\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n      }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\nexport const Background: FC<BackgroundProps> = (props) => {\r\n  switch (props.backgroundType) {\r\n    case BACKGROUND_TYPE.DARKEN:\r\n      return <DarkBackground {...props} />;\r\n    case BACKGROUND_TYPE.BLUR:\r\n      return <BlurryBackground {...props} />;\r\n    case BACKGROUND_TYPE.NONE:\r\n      return <NoBackground {...props} />;\r\n    default:\r\n      return <DarkBackground {...props} />;\r\n  }\r\n};\r\n","import React, { useState, createContext } from \"react\";\r\nimport { BackgroundProps, Background } from \"./Backgrounds\";\r\n\r\nexport type OverlayContext = {\r\n  isActive: boolean; // will be true if the overlay is 'active'\r\n  activate: CB<OpenOptions, void>; // will render an Overlay component with the given options\r\n  // onActivate: Noop<void>; // provided as a hook for consumers\r\n  deactivate: Noop<void>; // passed down to OpenOptions.component as a render prop\r\n  // onDeactivate: Noop<void>; // provided as a hook for consumers\r\n} & OverlayProviderProps;\r\n\r\nconst { Consumer: C, Provider: P } = createContext<OverlayContext | null>(null);\r\n\r\nexport type OverlayProviderProps = {\r\n  componentMap: { [k: string]: React.ReactNode }; // registers a list of components to render based on 'active' state\r\n  // height?: number; // allow to be defined, don't allow to be larger than 100%\r\n  // width?: number; // allow to be defined, don't allow to be larger than 100%\r\n} & BackgroundProps;\r\n\r\ntype OpenOptions = {\r\n  component: string;\r\n  // onActivate?: Noop<void>; // callback for consumers\r\n  // onDeactivate?: Noop<void>; // callback for consumers\r\n  // props: any, // TODO: can't you pass this directly?\r\n  // closeTriggers: 'DEFAULT' | 'CLICK' | 'KEY' // TODO: should different overlays have different close logic?\r\n};\r\n\r\ntype State = {\r\n  isActive: boolean;\r\n  component?: string;\r\n};\r\n\r\n/**\r\n * This is the root Overlay Provider for any component that needs to present itself outside of the normal DOM hierarchy\r\n *\r\n * @param {boolean} canClickThrough (optional)\r\n *  - if true, allows click events through overlay when overlay is 'active'\r\n *  - defaults to false\r\n *\r\n * TODO:\r\n * - Should event hooks (onDeactivate, onActivate) be passed down the DOM? Should they live in Modal, Toast, etc.\r\n * - All raw HTML elements should be configurable (as components), with default styles exposed as exports\r\n * - Find a better way to document props\r\n */\r\nconst OverlayProvider: React.FC<OverlayProviderProps> = ({\r\n  children,\r\n  backgroundType,\r\n  backgroundThreshold, // when backgroundType === BLUR, filter: blur(backgroundThreshold * 10 + 'px')\r\n  componentMap,\r\n}) => {\r\n  const [overlayState, setOverlayState] = useState<State>({\r\n    isActive: false,\r\n  });\r\n\r\n  const activate: CB<OpenOptions, void> = ({ component }) =>\r\n    setOverlayState({ component, isActive: true });\r\n\r\n  const deactivate: Noop<void> = () => setOverlayState({ isActive: false });\r\n\r\n  const { component, isActive } = overlayState;\r\n\r\n  const Component = (component && componentMap[component]) as React.ElementType;\r\n\r\n  return (\r\n    <P\r\n      value={{\r\n        isActive,\r\n        componentMap,\r\n        backgroundType,\r\n        backgroundThreshold,\r\n        activate,\r\n        deactivate,\r\n      }}\r\n    >\r\n      <div id=\"hydra-overlay-wrapper\">{children}</div>\r\n      <div\r\n        id=\"hydra-overlay\"\r\n        style={{\r\n          position: \"fixed\",\r\n          left: \"0px\",\r\n          top: \"0px\",\r\n          width: \"100vw\",\r\n          height: \"100vh\",\r\n          pointerEvents: isActive ? \"initial\" : \"none\",\r\n        }}\r\n      >\r\n        {isActive && (\r\n          <Background\r\n            backgroundType={backgroundType}\r\n            backgroundThreshold={backgroundThreshold}\r\n          >\r\n            <Component />\r\n          </Background>\r\n        )}\r\n      </div>\r\n    </P>\r\n  );\r\n};\r\n\r\nconst OverlayConsumer = C;\r\n\r\nexport const Overlay = {\r\n  Consumer: OverlayConsumer,\r\n  Provider: OverlayProvider,\r\n};\r\n","import React from \"react\";\r\nimport { Button, ButtonRow, ButtonRowProps } from \"../Button\";\r\n\r\ntype CloseProps = {\r\n  onClick: () => void;\r\n} & ReactButton;\r\n/** This is a super-specific close button that's got terrible CSS but look ma, no SVG's! */\r\nexport const Close: React.FC<CloseProps> = (props) => (\r\n  <Button\r\n    {...props}\r\n    style={{\r\n      position: \"relative\",\r\n      fontSize: \"32px\",\r\n      width: \"32px\",\r\n      height: \"32px\",\r\n      lineHeight: \"32px\",\r\n      background: \"none\",\r\n      border: \"none\",\r\n      outlineOffset: \"-6px\",\r\n      cursor: \"pointer\",\r\n      padding: \"unset\",\r\n      ...props.style,\r\n    }}\r\n    onClick={() => props.onClick()}\r\n  >\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        width: \"32px\",\r\n        height: \"32px\",\r\n        transform: \"rotate(45deg)\",\r\n        borderRadius: \"32px\",\r\n        top: \"0px\",\r\n      }}\r\n    >\r\n      +\r\n    </div>\r\n  </Button>\r\n);\r\n\r\ntype SharedComponentProps = {\r\n  id: string;\r\n};\r\n\r\ntype SharedHeaderProps = {\r\n  headerText?: string;\r\n  onClick: () => void;\r\n} & SharedComponentProps &\r\n  StyleOverride;\r\nexport const Header: React.FC<SharedHeaderProps> = ({\r\n  id,\r\n  headerText,\r\n  onClick,\r\n  style,\r\n}) => (\r\n  <div\r\n    id={id}\r\n    style={{\r\n      minHeight: \"32px\",\r\n      position: \"relative\",\r\n      ...style,\r\n    }}\r\n  >\r\n    {headerText && (\r\n      <h3\r\n        style={{\r\n          margin: \"unset\",\r\n          lineHeight: \"32px\",\r\n        }}\r\n      >\r\n        {headerText}\r\n      </h3>\r\n    )}\r\n    <Close\r\n      onClick={() => onClick()}\r\n      style={{ position: \"absolute\", top: \"0px\", right: \"0px\" }}\r\n      autoFocus\r\n    />\r\n  </div>\r\n);\r\n\r\ntype SharedBodyProps = SharedComponentProps & StyleOverride;\r\nexport const Body: React.FC<SharedBodyProps> = ({ children, id, style }) => (\r\n  <div\r\n    id={id}\r\n    style={{\r\n      flex: 1,\r\n      paddingTop: \"16px\",\r\n      paddingBottom: \"24px\",\r\n      ...style,\r\n    }}\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n\r\ntype SharedFooterProps = ButtonRowProps;\r\nexport const Footer: React.FC<SharedFooterProps> = (props) => (\r\n  <ButtonRow {...props} />\r\n);\r\n","import React, { FC } from \"react\";\r\nimport { Overlay, OverlayContext } from \"./Overlay\";\r\nimport { COLOR } from \"../Theme\";\r\nimport { Button } from \"../Button\";\r\nimport { Header, Body, Footer } from \"./Shared\";\r\n/**\r\n * TODO:\r\n *\r\n * - add style overrides for each part of the Modal (style prop)\r\n * - add logic to automatically take up full width and height of page for smaller screens\r\n */\r\n\r\ntype ModalHeaderProps = {\r\n  headerText?: string;\r\n  closeModal: () => void;\r\n} & StyleOverride;\r\nexport const ModalHeader: FC<ModalHeaderProps> = ({ closeModal, ...rest }) => (\r\n  <Header id=\"hydra-modal-header\" onClick={() => closeModal()} {...rest} />\r\n);\r\n\r\nexport const ModalBody: FC<StyleOverride> = (props) => (\r\n  <Body id=\"hydra-modal-body\" {...props} />\r\n);\r\n\r\ntype ModalFooterProps = {\r\n  closeModal: () => void;\r\n} & StyleOverride;\r\nexport const ModalFooter: FC<ModalFooterProps> = ({ closeModal, style }) => (\r\n  <Footer id=\"hydra-modal-footer\" position=\"right\" style={style}>\r\n    <Button onClick={() => closeModal()}>close</Button>\r\n  </Footer>\r\n);\r\n\r\ntype ModalContainerProps = {\r\n  Container?: FC<ModalContainerProps>;\r\n  Header?: FC<ModalHeaderProps>;\r\n  headerText?: string;\r\n  width?: number;\r\n  height?: number;\r\n  withHeader?: boolean;\r\n  Body?: FC;\r\n  Footer?: FC<ModalFooterProps>;\r\n  withFooter?: boolean;\r\n  styleOverrides?: {\r\n    container?: React.CSSProperties;\r\n    header?: React.CSSProperties;\r\n    body?: React.CSSProperties;\r\n    footer?: React.CSSProperties;\r\n  };\r\n} & ModalHeaderProps;\r\n\r\ntype ModalProps = ModalContainerProps & OverlayContext;\r\n\r\nexport const ModalContainer: FC<ModalProps> = ({\r\n  children,\r\n  deactivate,\r\n  headerText,\r\n  styleOverrides,\r\n  width = 600,\r\n  height = 550,\r\n  withHeader = true,\r\n  Header = ModalHeader,\r\n  Body = ModalBody,\r\n  withFooter = true,\r\n  Footer = ModalFooter,\r\n}) => (\r\n  <div\r\n    id=\"hydra-overlay-modal\"\r\n    style={{\r\n      width: `${width}px`,\r\n      height: `${height}px`,\r\n      backgroundColor: \"#fff\",\r\n      borderRadius: \"2px\",\r\n      boxShadow: `0px 0px 8px 4px ${COLOR.GRAY[300]}`,\r\n      position: \"absolute\",\r\n      left: \"50%\",\r\n      marginLeft: `-${Math.floor(width / 2)}px`,\r\n      top: \"16%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      boxSizing: \"border-box\",\r\n      padding: \"14px 16px 24px 16px\",\r\n      ...styleOverrides?.container,\r\n    }}\r\n  >\r\n    {withHeader && (\r\n      <Header\r\n        closeModal={deactivate}\r\n        headerText={headerText}\r\n        style={styleOverrides?.header}\r\n      />\r\n    )}\r\n    <Body style={styleOverrides?.body}>{children}</Body>\r\n    {withFooter && (\r\n      <Footer closeModal={deactivate} style={styleOverrides?.footer} />\r\n    )}\r\n  </div>\r\n);\r\n\r\nexport const Modal = (props: ModalContainerProps) => (\r\n  <Overlay.Consumer>\r\n    {(context) => {\r\n      if (!context) return null;\r\n      const { Container = ModalContainer } = props;\r\n      return <Container {...props} {...context} />;\r\n    }}\r\n  </Overlay.Consumer>\r\n);\r\n","import { keyframes } from \"styled-components\";\r\n\r\nexport const example_color_transition = (\r\n  from: string = \"red\",\r\n  to: string = \"blue\"\r\n) => keyframes`\r\n  from {background-color: ${from};}\r\n  to {background-color: ${to};}\r\n`;\r\n\r\nexport const slideLeft = (translateX: number) =>\r\n  keyframes`\r\n  to { \r\n    transform: translateX(${translateX}px);\r\n  }\r\n`;\r\n","import React, { FC, useState } from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\nimport { Button } from \"../Button\";\r\nimport { Overlay, OverlayContext } from \"./Overlay\";\r\nimport { Header, Body, Footer } from \"./Shared\";\r\nimport { slideLeft } from \"../Styles\";\r\n\r\ntype PanelHeaderProps = {\r\n  headerText?: string;\r\n  closePanel: () => void;\r\n} & StyleOverride;\r\nexport const PanelHeader: FC<PanelHeaderProps> = ({ closePanel, ...rest }) => (\r\n  <Header id=\"hydra-panel-header\" onClick={() => closePanel()} {...rest} />\r\n);\r\n\r\ntype PanelFooterProps = {\r\n  closePanel: () => void;\r\n} & StyleOverride;\r\nexport const PanelFooter: FC<PanelFooterProps> = ({ closePanel, style }) => (\r\n  <Footer id=\"hydra-panel-footer\" position=\"right\" style={style}>\r\n    <Button onClick={() => closePanel()}>Close</Button>\r\n  </Footer>\r\n);\r\n\r\nexport const PanelBody: FC<StyleOverride> = (props) => (\r\n  <Body id=\"hydra-panel-body\" {...props} />\r\n);\r\n\r\ntype PanelProps = {\r\n  Container?: FC<PanelContainerProps>;\r\n  Header?: FC<PanelHeaderProps>;\r\n  headerText?: string;\r\n  width?: string;\r\n  height?: string;\r\n  withHeader?: boolean;\r\n  Body?: FC;\r\n  Footer?: FC<PanelFooterProps>;\r\n  withFooter?: boolean;\r\n  styleOverrides?: {\r\n    container?: React.CSSProperties;\r\n    header?: React.CSSProperties;\r\n    body?: React.CSSProperties;\r\n    footer?: React.CSSProperties;\r\n  };\r\n  position?: \"left\" | \"right\";\r\n  animate?: boolean;\r\n} & PanelHeaderProps;\r\n\r\ntype PanelContainerProps = PanelProps & OverlayContext;\r\n\r\nconst slideInMixin = () => css`\r\n  right: -600px;\r\n  animation: ${slideLeft(-600)} 250ms ease-out forwards;\r\n`;\r\nconst slideOutMixin = () => css`\r\n  right: 0px;\r\n  animation: ${slideLeft(600)} 250ms ease-out forwards;\r\n`;\r\n\r\nconst PanelWrapper: FC<any> = styled.div`\r\n  ${(props: any) => (props.isOpen ? slideInMixin : slideOutMixin)}\r\n`;\r\n\r\nexport const PanelContainer: FC<PanelContainerProps> = ({\r\n  children,\r\n  styleOverrides,\r\n  width = \"600px\",\r\n  height = \"100%\",\r\n  withHeader = true,\r\n  headerText,\r\n  Header = PanelHeader,\r\n  Body = PanelBody,\r\n  withFooter = true,\r\n  Footer = PanelFooter,\r\n  deactivate,\r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(true);\r\n  return (\r\n    <PanelWrapper\r\n      id=\"hydra-overlay-panel\"\r\n      isOpen={isOpen}\r\n      style={{\r\n        width,\r\n        height,\r\n        position: \"fixed\",\r\n        top: \"0px\",\r\n        backgroundColor: \"#fff\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        boxSizing: \"border-box\",\r\n        padding: \"14px 16px 24px 16px\",\r\n        overflow: \"auto\",\r\n        wordBreak: \"break-word\",\r\n        ...styleOverrides?.container,\r\n      }}\r\n    >\r\n      {withHeader && (\r\n        <Header\r\n          headerText={headerText}\r\n          style={styleOverrides?.header}\r\n          closePanel={() => deactivate()}\r\n        />\r\n      )}\r\n      <Body style={styleOverrides?.body}>{children}</Body>\r\n      {withFooter && (\r\n        <Footer\r\n          closePanel={() => {\r\n            setIsOpen(false);\r\n            setTimeout(() => deactivate(), 250);\r\n          }}\r\n          style={styleOverrides?.footer}\r\n        />\r\n      )}\r\n    </PanelWrapper>\r\n  );\r\n};\r\n\r\nexport const Panel = (props: PanelProps) => (\r\n  <Overlay.Consumer>\r\n    {(context) => {\r\n      if (!context) return null;\r\n      const { Container = PanelContainer, ...rest } = props;\r\n      return <Container {...rest} {...context} />;\r\n    }}\r\n  </Overlay.Consumer>\r\n);\r\n"],"names":["Alert","props","message","alert","Button","React","ButtonRow","position","id","children","style","textAlign","COLOR","GRAY","hexToRgb","hex","shorthandRegex","replace","m","r","g","b","result","exec","parseInt","asRGB","color","Error","BACKGROUND_TYPE","NoBackground","width","height","DarkBackground","backgroundThreshold","backgroundColor","BlurryBackground","useEffect","wrapper","document","getElementById","filter","Background","backgroundType","DARKEN","BLUR","NONE","Consumer","C","Provider","P","createContext","OverlayProvider","componentMap","overlayState","setOverlayState","useState","isActive","activate","component","deactivate","Component","value","left","top","pointerEvents","OverlayConsumer","Overlay","Close","fontSize","lineHeight","background","border","outlineOffset","cursor","padding","onClick","transform","borderRadius","Header","headerText","minHeight","margin","right","autoFocus","Body","flex","paddingTop","paddingBottom","Footer","ModalHeader","closeModal","rest","ModalBody","ModalFooter","ModalContainer","styleOverrides","withHeader","withFooter","boxShadow","marginLeft","Math","floor","display","flexDirection","boxSizing","container","header","body","footer","Modal","context","Container","slideLeft","translateX","keyframes","PanelHeader","closePanel","PanelFooter","PanelBody","slideInMixin","css","slideOutMixin","PanelWrapper","styled","div","isOpen","PanelContainer","setIsOpen","overflow","wordBreak","setTimeout","Panel"],"mappings":"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"}